{% extends "admin/base_site.html" %}
{% load i18n admin_urls static %}

{% block content %}
<div id="content-main">
  <h1 class="module-title">{% trans "Import Publications from BibTeX" %}</h1>
  <p class="help">
    {% trans "Upload a standard .bib file. The system will parse the entries and attempt to create new Publication records, using DOI (or Title + Year) to avoid duplicates." %}
  </p>

  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="form-row field-bib_file">
        <div>
            <label class="required" for="id_bib_file">{% trans "BibTeX File (.bib)" %}:</label>
            {{ form.bib_file }}
            <p class="help">{{ form.bib_file.help_text }}</p>
            {% if form.bib_file.errors %}
                <ul class="errorlist">
                    {% for error in form.bib_file.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    </div>

    <div class="submit-row">
      <input type="submit" value="{% trans "Upload and Import" %}" class="default">
    </div>
  </form>
</div>
{% endblock %}